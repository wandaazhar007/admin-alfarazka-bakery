// src/styles/_responsive.scss
@use "./variables" as *;

// =======================
// BREAKPOINT MIXINS
// =======================

@mixin respond-up($bp-name) {
  $bp-value: map-get($breakpoints, $bp-name);

  @if $bp-value {
    @media (min-width: $bp-value) {
      @content;
    }
  }

  @else {
    @warn "Unknown breakpoint `#{$bp-name}`";
  }
}

@mixin respond-down($bp-name) {
  $bp-value: map-get($breakpoints, $bp-name);

  @if $bp-value {
    @media (max-width: ($bp-value - 0.02px)) {
      @content;
    }
  }

  @else {
    @warn "Unknown breakpoint `#{$bp-name}`";
  }
}

// =======================
// APP SHELL LAYOUT
// =======================

.app-shell {
  min-height: 100vh;
  background-color: $color-bg;
  display: flex;
  flex-direction: column;
}

.app-shell__body {
  flex: 1;
  background-color: $color-bg;
}

/**
 * app-shell__inner:
 * - Berisi Sidebar + Content
 * - Lebarnya dibatasi max-width sama seperti navbar (.inner)
 * - Di-center pakai margin: 0 auto
 */
.app-shell__inner {
  display: flex;
  min-height: calc(100vh - $navbar-height);
  max-width: $layout-max-width;
  margin: 0 auto;
  padding: $space-4;

  // supaya sidebar tidak terlalu mepet di atas
  padding-top: $space-4;
}

.app-shell__content {
  flex: 1;
  padding-left: $space-4;
  padding-right: 0;
  padding-bottom: $space-4;
}

// =======================
// RESPONSIVE ADJUSTMENTS
// =======================

@include respond-down("tablet") {
  .app-shell__inner {
    padding: $space-3;
    padding-top: $space-3;
  }

  .app-shell__content {
    padding-left: $space-3;
    padding-right: 0;
    padding-bottom: $space-3;
  }
}

@include respond-down("mobile") {
  .app-shell__inner {
    padding: $space-2;
    padding-top: $space-2;
  }

  .app-shell__content {
    padding-left: $space-2;
    padding-right: 0;
    padding-bottom: $space-3;
  }
}